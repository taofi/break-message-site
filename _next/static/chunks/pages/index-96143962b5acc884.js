(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{3620:(e,t,r)=>{"use strict";r.d(t,{k5:()=>d});var s=r(4232),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},l=s.createContext&&s.createContext(a),n=["attr","size","title"];function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var s,a,l;s=e,a=t,l=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in s?Object.defineProperty(s,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[a]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e){return t=>s.createElement(u,o({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,r)=>s.createElement(t.tag,c({key:r},t.attr),e(t.child)))}(e.child))}function u(e){var t=t=>{var r,{attr:a,size:l,title:i}=e,d=function(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)r=l[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,n),u=l||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),s.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,d,{className:r,style:c(c({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),i&&s.createElement("title",null,i),e.children)};return void 0!==l?s.createElement(l.Consumer,null,e=>t(e)):t(a)}},6760:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(7563)}])},7563:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var s=r(7876),a=r(4232),l=r(8615);let n=e=>{let{onClick:t,disabled:r}=e,[n,o]=(0,a.useState)(!1);return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("button",{onClick:()=>{t(),o(!0),setTimeout(()=>o(!1),2e3)},disabled:r,className:"p-1 rounded-md transition-colors ".concat(r?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:text-blue-600 hover:bg-gray-100"),"aria-label":"Копировать текст",children:n?(0,s.jsx)(l.YrT,{className:"w-5 h-5 text-green-500"}):(0,s.jsx)(l.nxz,{className:"w-5 h-5"})}),n&&(0,s.jsx)("div",{className:"absolute z-10 top-full right-0 mt-2 px-3 py-1 bg-gray-800 text-white text-sm rounded-md whitespace-nowrap",children:"Скопировано!"})]})},o=e=>{let{onClick:t,disabled:r}=e,[n,o]=(0,a.useState)(!1);return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("button",{onClick:()=>{t(),o(!0),setTimeout(()=>o(!1),2e3)},disabled:r,className:"p-1 rounded-md transition-colors ".concat(r?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:text-blue-600 hover:bg-gray-100"),"aria-label":"Разбить текст",children:(0,s.jsx)(l.JKt,{className:"w-5 h-5"})}),n&&(0,s.jsx)("div",{className:"absolute z-10 top-full right-0 mt-2 px-3 py-1 bg-gray-800 text-white text-sm rounded-md whitespace-nowrap",children:"Текст разбит!"})]})},i=e=>{let{onClick:t,disabled:r}=e,[n,o]=(0,a.useState)(!1);return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("button",{onClick:()=>{t(),o(!0),setTimeout(()=>o(!1),2e3)},disabled:r,className:"p-1 rounded-md transition-colors ".concat(r?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:text-red-600 hover:bg-gray-100"),"aria-label":"Очистить",children:(0,s.jsx)(l.IXo,{className:"w-5 h-5"})}),n&&(0,s.jsx)("div",{className:"absolute z-10 top-full right-0 mt-2 px-3 py-1 bg-gray-800 text-white text-sm rounded-md whitespace-nowrap",children:"Очищено!"})]})},c=e=>{let{chunks:t,splitLength:r}=e,l=(0,a.useRef)([]),o=(0,a.useCallback)((e,t)=>{l.current[t]=e,e&&(e.style.height="auto",e.style.height="".concat(e.scrollHeight,"px"))},[]);return((0,a.useEffect)(()=>{l.current.forEach(e=>{e&&(e.style.height="auto",e.style.height="".concat(e.scrollHeight,"px"))})},[t]),0===t.length)?null:(0,s.jsxs)("div",{className:"mt-4 space-y-3",children:[(0,s.jsxs)("h3",{className:"font-medium",children:["Разбитый текст (по ",r," символов):"]}),t.map((e,r)=>(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("textarea",{ref:e=>o(e,r),value:e,className:"w-full p-3 pr-8 border border-gray-300 rounded-md bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none overflow-hidden",style:{minHeight:"44px",transition:"height 0.2s ease-out"}}),(0,s.jsx)("div",{className:"absolute right-2 top-2",children:(0,s.jsx)(n,{onClick:()=>navigator.clipboard.writeText(e),disabled:!1})}),(0,s.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Блок ",r+1," из ",t.length," (",e.length," символов)"]})]},r))]})},d=e=>{let{splitLength:t,setSplitLength:r,splitMode:l,setSplitMode:n,onClose:o}=e,[i,c]=(0,a.useState)(t),[d,u]=(0,a.useState)(l);return(0,s.jsxs)("div",{className:"mb-2 p-4 border border-gray-200 rounded-md bg-white shadow-lg",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsx)("h3",{className:"font-medium",children:"Настройки разбивки"}),(0,s.jsx)("button",{onClick:o,className:"text-gray-500 hover:text-gray-700 text-xl",children:"\xd7"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Тип разбивки:"}),(0,s.jsxs)("div",{className:"grid grid-rows-3 gap-2",children:[(0,s.jsxs)("label",{className:"inline-flex items-center p-2 border rounded-md hover:bg-gray-50",children:[(0,s.jsx)("input",{type:"radio",className:"form-radio text-blue-600",checked:"chars"===d,onChange:()=>u("chars")}),(0,s.jsx)("span",{className:"ml-2",children:"По символам"})]}),(0,s.jsxs)("label",{className:"inline-flex items-center p-2 border rounded-md hover:bg-gray-50",children:[(0,s.jsx)("input",{type:"radio",className:"form-radio text-blue-600",checked:"words"===d,onChange:()=>u("words")}),(0,s.jsx)("span",{className:"ml-2",children:"По словам"})]}),(0,s.jsxs)("label",{className:"inline-flex items-center p-2 border rounded-md hover:bg-gray-50",children:[(0,s.jsx)("input",{type:"radio",className:"form-radio text-blue-600",checked:"sentences"===d,onChange:()=>u("sentences")}),(0,s.jsx)("span",{className:"ml-2",children:"По предложениям"})]})]}),(0,s.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:(()=>{switch(d){case"chars":return"Текст будет разбит строго по указанному количеству символов";case"words":return"Текст будет разбит по словам, сохраняя их целостность";case"sentences":return"Текст будет разбит по предложениям (по знакам .!?)";default:return""}})()})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"splitLength",className:"block text-sm font-medium text-gray-700 mb-1",children:"chars"===d?"Символов в блоке:":"words"===d?"Макс. символов в блоке:":"Макс. длина блока:"}),(0,s.jsx)("input",{id:"splitLength",type:"number",min:"10",max:"500",value:i,onChange:e=>c(Number(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,s.jsx)("button",{onClick:o,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Отмена"}),(0,s.jsx)("button",{onClick:()=>{r(i),n(d),o()},className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Применить"})]})]})]})},u=()=>{let[e,t]=(0,a.useState)(""),[r,l]=(0,a.useState)([]),[u,h]=(0,a.useState)(80),[m,x]=(0,a.useState)("chars"),[g,b]=(0,a.useState)(!1),p=(0,a.useRef)(null),f=(0,a.useRef)(null);(0,a.useEffect)(()=>{p.current&&(p.current.style.height="auto",p.current.style.height="".concat(p.current.scrollHeight,"px"))},[e]),(0,a.useEffect)(()=>{let e=e=>{f.current&&!f.current.contains(e.target)&&b(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let v=(0,a.useCallback)(()=>{e&&navigator.clipboard.writeText(e)},[e]),y=(0,a.useCallback)(()=>{if(!e)return;let t=[];switch(m){case"chars":for(let r=0;r<e.length;r+=u)t.push(e.slice(r,r+u));break;case"words":let r=e.split(" "),s="";for(let e of r)s.length+e.length+1<=u||0===s.length?s+=(s?" ":"")+e:(t.push(s),s=e);s&&t.push(s);break;case"sentences":t=((e,t)=>{let r=e.match(/[^.!?]+[.!?]+/g)||[],s=[],a="";for(let e of r)a.length+e.length<=t||0===a.length?a+=e:(s.push(a.trim()),a=e);return a&&s.push(a.trim()),s})(e,u)}l(t)},[e,u,m]),j=(0,a.useCallback)(()=>{t(""),l([]),p.current&&(p.current.style.height="auto")},[]);return(0,s.jsxs)("div",{className:"max-w-lg mx-auto p-4 bg-white rounded-lg shadow-md relative",children:[g&&(0,s.jsx)("div",{ref:f,className:"relative ",children:(0,s.jsx)(d,{splitLength:u,setSplitLength:h,splitMode:m,setSplitMode:x,onClose:()=>b(!1)})}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("div",{className:"relative flex",children:[(0,s.jsx)("button",{onClick:()=>{b(!g)},className:"p-1 rounded-md transition-colors ".concat(g?"text-blue-600 bg-blue-50":"text-gray-600 hover:text-blue-600 hover:bg-gray-100"),"aria-label":"Настройки",children:(0,s.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,s.jsx)(i,{onClick:j,disabled:!e&&0===r.length}),(0,s.jsx)(o,{onClick:y,disabled:!e}),(0,s.jsx)(n,{onClick:v,disabled:!e})]}),(0,s.jsx)("textarea",{ref:p,value:e,onChange:e=>t(e.target.value),className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none overflow-hidden",rows:1,placeholder:"Введите текст..."})]}),(0,s.jsxs)("div",{className:"mt-1 text-sm text-gray-500",children:[e.length," символов"]}),(0,s.jsx)(c,{chunks:r,splitLength:u})]})};function h(){return(0,s.jsx)("div",{className:"p-4",children:(0,s.jsx)(u,{})})}}},e=>{e.O(0,[141,636,593,792],()=>e(e.s=6760)),_N_E=e.O()}]);