{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///F:/projects/break-message/break-message-site/src/components/TextAreaWithCounter/SettingsPanel.tsx"],"sourcesContent":["import { useState } from 'react';\r\n\r\ntype SplitMode = 'chars' | 'words';\r\n\r\ninterface SettingsPanelProps {\r\n    splitLength: number;\r\n    setSplitLength: (value: number) => void;\r\n    splitMode: SplitMode;\r\n    setSplitMode: (mode: SplitMode) => void;\r\n    onClose: () => void;\r\n}\r\n\r\nconst SettingsPanel = ({\r\n    splitLength,\r\n    setSplitLength,\r\n    splitMode,\r\n    setSplitMode,\r\n    onClose\r\n}: SettingsPanelProps) => {\r\n    const [localLength, setLocalLength] = useState(splitLength);\r\n    const [localMode, setLocalMode] = useState<SplitMode>(splitMode);\r\n\r\n    const handleApply = () => {\r\n        setSplitLength(localLength);\r\n        setSplitMode(localMode);\r\n        onClose();\r\n    };\r\n\r\n    return (\r\n        <div className=\"mb-2 p-4 border border-gray-200 rounded-md bg-white shadow-lg\">\r\n            <div className=\"flex justify-between items-center mb-2\">\r\n                <h3 className=\"font-medium\">Настройки разбивки</h3>\r\n                <button onClick={onClose} className=\"text-gray-500 hover:text-gray-700 text-xl\">\r\n                    &times;\r\n                </button>\r\n            </div>\r\n            <div className=\"space-y-4\">\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                        Тип разбивки:\r\n                    </label>\r\n                    <div className=\"flex space-x-4\">\r\n                        <label className=\"inline-flex items-center\">\r\n                            <input\r\n                                type=\"radio\"\r\n                                className=\"form-radio text-blue-600\"\r\n                                checked={localMode === 'chars'}\r\n                                onChange={() => setLocalMode('chars')}\r\n                            />\r\n                            <span className=\"ml-2\">По символам</span>\r\n                        </label>\r\n                        <label className=\"inline-flex items-center\">\r\n                            <input\r\n                                type=\"radio\"\r\n                                className=\"form-radio text-blue-600\"\r\n                                checked={localMode === 'words'}\r\n                                onChange={() => setLocalMode('words')}\r\n                            />\r\n                            <span className=\"ml-2\">По словам</span>\r\n                        </label>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div>\r\n                    <label htmlFor=\"splitLength\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        {localMode === 'chars' ? 'Символов в блоке:' : 'Примерная длина блока:'}\r\n                    </label>\r\n                    <input\r\n                        id=\"splitLength\"\r\n                        type=\"number\"\r\n                        min=\"10\"\r\n                        max=\"500\"\r\n                        value={localLength}\r\n                        onChange={(e) => setLocalLength(Number(e.target.value))}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\r\n                    />\r\n                </div>\r\n                \r\n                <div className=\"flex justify-end space-x-2\">\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50\"\r\n                    >\r\n                        Отмена\r\n                    </button>\r\n                    <button\r\n                        onClick={handleApply}\r\n                        className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\r\n                    >\r\n                        Применить\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SettingsPanel;"],"names":[],"mappings":";;;;AAAA;;;AAYA,MAAM,gBAAgB,CAAC,EACnB,WAAW,EACX,cAAc,EACd,SAAS,EACT,YAAY,EACZ,OAAO,EACU;IACjB,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAa;IAEtD,MAAM,cAAc;QAChB,eAAe;QACf,aAAa;QACb;IACJ;IAEA,qBACI,qKAAC;QAAI,WAAU;;0BACX,qKAAC;gBAAI,WAAU;;kCACX,qKAAC;wBAAG,WAAU;kCAAc;;;;;;kCAC5B,qKAAC;wBAAO,SAAS;wBAAS,WAAU;kCAA4C;;;;;;;;;;;;0BAIpF,qKAAC;gBAAI,WAAU;;kCACX,qKAAC;;0CACG,qKAAC;gCAAM,WAAU;0CAA+C;;;;;;0CAGhE,qKAAC;gCAAI,WAAU;;kDACX,qKAAC;wCAAM,WAAU;;0DACb,qKAAC;gDACG,MAAK;gDACL,WAAU;gDACV,SAAS,cAAc;gDACvB,UAAU,IAAM,aAAa;;;;;;0DAEjC,qKAAC;gDAAK,WAAU;0DAAO;;;;;;;;;;;;kDAE3B,qKAAC;wCAAM,WAAU;;0DACb,qKAAC;gDACG,MAAK;gDACL,WAAU;gDACV,SAAS,cAAc;gDACvB,UAAU,IAAM,aAAa;;;;;;0DAEjC,qKAAC;gDAAK,WAAU;0DAAO;;;;;;;;;;;;;;;;;;;;;;;;kCAKnC,qKAAC;;0CACG,qKAAC;gCAAM,SAAQ;gCAAc,WAAU;0CAClC,cAAc,UAAU,sBAAsB;;;;;;0CAEnD,qKAAC;gCACG,IAAG;gCACH,MAAK;gCACL,KAAI;gCACJ,KAAI;gCACJ,OAAO;gCACP,UAAU,CAAC,IAAM,eAAe,OAAO,EAAE,MAAM,CAAC,KAAK;gCACrD,WAAU;;;;;;;;;;;;kCAIlB,qKAAC;wBAAI,WAAU;;0CACX,qKAAC;gCACG,SAAS;gCACT,WAAU;0CACb;;;;;;0CAGD,qKAAC;gCACG,SAAS;gCACT,WAAU;0CACb;;;;;;;;;;;;;;;;;;;;;;;;AAOrB;uCAEe","debugId":null}},
    {"offset": {"line": 206, "column": 0}, "map": {"version":3,"sources":["file:///F:/projects/break-message/break-message-site/src/components/TextAreaWithCounter/index.tsx"],"sourcesContent":["import { useState, useRef, useEffect, useCallback } from 'react';\r\nimport CopyButton from './CopyButton';\r\nimport SplitButton from './SplitButton';\r\nimport ClearButton from './ClearButton';\r\nimport ChunkList from './ChunkList';\r\nimport SettingsPanel from './SettingsPanel';\r\n\r\ntype SplitMode = 'chars' | 'words';\r\n\r\nconst TextAreaWithCounter = () => {\r\n    const [text, setText] = useState('');\r\n    const [splitTexts, setSplitTexts] = useState<string[]>([]);\r\n    const [splitLength, setSplitLength] = useState(80);\r\n    const [splitMode, setSplitMode] = useState<SplitMode>('chars');\r\n    const [showSettings, setShowSettings] = useState(false);\r\n    const textareaRef = useRef<HTMLTextAreaElement>(null);\r\n    const settingsRef = useRef<HTMLDivElement>(null);\r\n\r\n    // Автоматическое изменение высоты textarea\r\n    useEffect(() => {\r\n        if (textareaRef.current) {\r\n            textareaRef.current.style.height = 'auto';\r\n            textareaRef.current.style.height = `${textareaRef.current.scrollHeight}px`;\r\n        }\r\n    }, [text]);\r\n\r\n    // Закрытие настроек при клике вне области\r\n    useEffect(() => {\r\n        const handleClickOutside = (event: MouseEvent) => {\r\n            if (settingsRef.current && !settingsRef.current.contains(event.target as Node)) {\r\n                setShowSettings(false);\r\n            }\r\n        };\r\n\r\n        document.addEventListener('mousedown', handleClickOutside);\r\n        return () => document.removeEventListener('mousedown', handleClickOutside);\r\n    }, []);\r\n\r\n    const handleSplitText = useCallback(() => {\r\n        if (!text) return;\r\n\r\n        let chunks: string[] = [];\r\n        \r\n        if (splitMode === 'chars') {\r\n            // Разбивка по символам\r\n            for (let i = 0; i < text.length; i += splitLength) {\r\n                chunks.push(text.slice(i, i + splitLength));\r\n            }\r\n        } else {\r\n            // Разбивка по словам\r\n            const words = text.split(' ');\r\n            let currentChunk = '';\r\n            \r\n            for (const word of words) {\r\n                if (currentChunk.length + word.length + 1 <= splitLength || currentChunk.length === 0) {\r\n                    currentChunk += (currentChunk ? ' ' : '') + word;\r\n                } else {\r\n                    chunks.push(currentChunk);\r\n                    currentChunk = word;\r\n                }\r\n            }\r\n            \r\n            if (currentChunk) {\r\n                chunks.push(currentChunk);\r\n            }\r\n        }\r\n\r\n        setSplitTexts(chunks);\r\n    }, [text, splitLength, splitMode]);\r\n\r\n    // Остальные обработчики остаются без изменений\r\n    const handleCopy = useCallback(() => { /* ... */ }, [text]);\r\n    const handleClear = useCallback(() => { /* ... */ }, []);\r\n\r\n    return (\r\n        <div className=\"max-w-lg mx-auto p-4 bg-white rounded-lg shadow-md relative\">\r\n            {showSettings && (\r\n                <div ref={settingsRef} className=\"absolute -top-2 left-0 right-0 transform -translate-y-full\">\r\n                    <SettingsPanel \r\n                        splitLength={splitLength}\r\n                        setSplitLength={setSplitLength}\r\n                        splitMode={splitMode}\r\n                        setSplitMode={setSplitMode}\r\n                        onClose={() => setShowSettings(false)}\r\n                    />\r\n                </div>\r\n            )}\r\n\r\n            {/* Остальная часть компонента без изменений */}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TextAreaWithCounter;"],"names":[],"mappings":";;;;AAAA;AAKA;;;;AAIA,MAAM,sBAAsB;IACxB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAY,EAAE;IACzD,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAa;IACtD,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,cAAc,CAAA,GAAA,mGAAA,CAAA,SAAM,AAAD,EAAuB;IAChD,MAAM,cAAc,CAAA,GAAA,mGAAA,CAAA,SAAM,AAAD,EAAkB;IAE3C,2CAA2C;IAC3C,CAAA,GAAA,mGAAA,CAAA,YAAS,AAAD,EAAE;QACN,IAAI,YAAY,OAAO,EAAE;YACrB,YAAY,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG;YACnC,YAAY,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,YAAY,OAAO,CAAC,YAAY,CAAC,EAAE,CAAC;QAC9E;IACJ,GAAG;QAAC;KAAK;IAET,0CAA0C;IAC1C,CAAA,GAAA,mGAAA,CAAA,YAAS,AAAD,EAAE;QACN,MAAM,qBAAqB,CAAC;YACxB,IAAI,YAAY,OAAO,IAAI,CAAC,YAAY,OAAO,CAAC,QAAQ,CAAC,MAAM,MAAM,GAAW;gBAC5E,gBAAgB;YACpB;QACJ;QAEA,SAAS,gBAAgB,CAAC,aAAa;QACvC,OAAO,IAAM,SAAS,mBAAmB,CAAC,aAAa;IAC3D,GAAG,EAAE;IAEL,MAAM,kBAAkB,CAAA,GAAA,mGAAA,CAAA,cAAW,AAAD,EAAE;QAChC,IAAI,CAAC,MAAM;QAEX,IAAI,SAAmB,EAAE;QAEzB,IAAI,cAAc,SAAS;YACvB,uBAAuB;YACvB,IAAK,IAAI,IAAI,GAAG,IAAI,KAAK,MAAM,EAAE,KAAK,YAAa;gBAC/C,OAAO,IAAI,CAAC,KAAK,KAAK,CAAC,GAAG,IAAI;YAClC;QACJ,OAAO;YACH,qBAAqB;YACrB,MAAM,QAAQ,KAAK,KAAK,CAAC;YACzB,IAAI,eAAe;YAEnB,KAAK,MAAM,QAAQ,MAAO;gBACtB,IAAI,aAAa,MAAM,GAAG,KAAK,MAAM,GAAG,KAAK,eAAe,aAAa,MAAM,KAAK,GAAG;oBACnF,gBAAgB,CAAC,eAAe,MAAM,EAAE,IAAI;gBAChD,OAAO;oBACH,OAAO,IAAI,CAAC;oBACZ,eAAe;gBACnB;YACJ;YAEA,IAAI,cAAc;gBACd,OAAO,IAAI,CAAC;YAChB;QACJ;QAEA,cAAc;IAClB,GAAG;QAAC;QAAM;QAAa;KAAU;IAEjC,+CAA+C;IAC/C,MAAM,aAAa,CAAA,GAAA,mGAAA,CAAA,cAAW,AAAD,EAAE,KAAkB,GAAG;QAAC;KAAK;IAC1D,MAAM,cAAc,CAAA,GAAA,mGAAA,CAAA,cAAW,AAAD,EAAE,KAAkB,GAAG,EAAE;IAEvD,qBACI,qKAAC;QAAI,WAAU;kBACV,8BACG,qKAAC;YAAI,KAAK;YAAa,WAAU;sBAC7B,cAAA,qKAAC,mJAAA,CAAA,UAAa;gBACV,aAAa;gBACb,gBAAgB;gBAChB,WAAW;gBACX,cAAc;gBACd,SAAS,IAAM,gBAAgB;;;;;;;;;;;;;;;;AAQvD;uCAEe","debugId":null}},
    {"offset": {"line": 309, "column": 0}, "map": {"version":3,"sources":["file:///F:/projects/break-message/break-message-site/src/components/index.ts"],"sourcesContent":["export { default as TextAreaWithCounter } from './TextAreaWithCounter';"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 331, "column": 0}, "map": {"version":3,"sources":["file:///F:/projects/break-message/break-message-site/src/pages/index.tsx"],"sourcesContent":["import { TextAreaWithCounter } from '../components';\n\nexport default function Home() {\n  return (\n    <div className=\"p-4\">\n      <TextAreaWithCounter/>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;AAAA;;;AAEe,SAAS;IACtB,qBACE,qKAAC;QAAI,WAAU;kBACb,cAAA,qKAAC,6LAAA,CAAA,sBAAmB;;;;;;;;;;AAG1B","debugId":null}}]
}